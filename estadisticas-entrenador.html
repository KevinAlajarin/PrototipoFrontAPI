<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FitConnect - Estadísticas del Entrenador</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="common.css">
    <link rel="stylesheet" href="estadisticas-entrenador.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- Encabezado -->
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <a href="index.html">FitConnect</a>
                </div>
                <nav class="nav">
                    <a href="perfil-entrenador.html" class="nav-link">Mi Perfil</a>
                    <a href="servicios-entrenador.html" class="nav-link">Mis Servicios</a>
                    <a href="estadisticas-entrenador.html" class="nav-link active">Estadísticas</a>
                    <a href="#" class="nav-link logout-link">Cerrar Sesión</a>
                </nav>
            </div>
        </div>
    </header>

    <!-- Sección de Estadísticas -->
    <section class="estadisticas-section">
        <div class="container">
            <div class="estadisticas-header">
                <h1>Estadísticas de tus Servicios</h1>
                <p class="subtitle">Monitorea el rendimiento de tus servicios y opiniones de los clientes</p>
            </div>
            
            <!-- Filtros -->
            <div class="filtros-container">
                <div class="filtro-grupo">
                    <label for="filtro-periodo">Periodo:</label>
                    <select id="filtro-periodo">
                        <option value="ultimo-mes">Último mes</option>
                        <option value="ultimos-3-meses">Últimos 3 meses</option>
                        <option value="ultimo-año">Último año</option>
                        <option value="todo" selected>Todo</option>
                    </select>
                </div>
                <div class="filtro-grupo">
                    <label for="filtroServicio">Servicio:</label>
                    <select id="filtroServicio" class="form-control">
                        <option value="0">Todos los servicios</option>
                        <option value="1">Running</option>
                        <option value="2">Gimnasio</option>
                        <option value="3">Nutrición</option>
                        <option value="4">Yoga</option>
                        <option value="5">Pilates</option>
                    </select>
                </div>
            </div>
            
            <!-- Resumen rápido - KPIs -->
            <div class="dashboard-resumen">
                <div class="kpi-card">
                    <div class="kpi-icon">
                        <i class="fas fa-eye"></i>
                    </div>
                    <div class="kpi-content">
                        <h3>Visualizaciones</h3>
                        <div class="kpi-value">2,458</div>
                        <div class="kpi-trend positivo">
                            <i class="fas fa-arrow-up"></i> 12% vs periodo anterior
                        </div>
                    </div>
                </div>
                
                <div class="kpi-card">
                    <div class="kpi-icon">
                        <i class="fas fa-handshake"></i>
                    </div>
                    <div class="kpi-content">
                        <h3>Contrataciones</h3>
                        <div class="kpi-value">125</div>
                        <div class="kpi-trend positivo">
                            <i class="fas fa-arrow-up"></i> 8% vs periodo anterior
                        </div>
                    </div>
                </div>
                
                <div class="kpi-card">
                    <div class="kpi-icon">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <div class="kpi-content">
                        <h3>Tasa de Conversión</h3>
                        <div class="kpi-value">5.1%</div>
                        <div class="kpi-trend negativo">
                            <i class="fas fa-arrow-down"></i> 1.2% vs periodo anterior
                        </div>
                    </div>
                </div>
                
                <div class="kpi-card">
                    <div class="kpi-icon">
                        <i class="fas fa-star"></i>
                    </div>
                    <div class="kpi-content">
                        <h3>Valoración Media</h3>
                        <div class="kpi-value">4.7</div>
                        <div class="kpi-trend positivo">
                            <i class="fas fa-arrow-up"></i> 0.2 vs periodo anterior
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Gráficos de rendimiento -->
            <div class="dashboard-graficos">
                <div class="grafico-card wide">
                    <div class="grafico-header">
                        <h3>Visualizaciones por servicio</h3>
                        <div class="grafico-filtros">
                            <select id="filtro-grafico-visitas">
                                <option value="semanal">Semanal</option>
                                <option value="mensual" selected>Mensual</option>
                                <option value="anual">Anual</option>
                            </select>
                        </div>
                    </div>
                    <div class="grafico-container">
                        <canvas id="grafico-visualizaciones"></canvas>
                    </div>
                </div>
                
                <div class="grafico-card">
                    <div class="grafico-header">
                        <h3>Distribución de calificaciones</h3>
                    </div>
                    <div class="grafico-container">
                        <canvas id="grafico-calificaciones"></canvas>
                    </div>
                    <div class="grafico-footer">
                        <div class="valor-total">
                            <span>Total de calificaciones:</span>
                            <strong>87</strong>
                        </div>
                    </div>
                </div>
                
                <div class="grafico-card">
                    <div class="grafico-header">
                        <h3>Tasa de conversión por servicio</h3>
                    </div>
                    <div class="grafico-container">
                        <canvas id="grafico-conversion"></canvas>
                    </div>
                </div>
            </div>
            
            <!-- Tabla de servicios -->
            <div class="tabla-servicios">
                <h2>Desempeño por Servicio</h2>
                <div class="tabla-container">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Servicio</th>
                                <th>Visualizaciones</th>
                                <th>Contrataciones</th>
                                <th>Tasa de conversión</th>
                                <th>Calificación promedio</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Running</td>
                                <td>450</td>
                                <td>32</td>
                                <td>7.1%</td>
                                <td>4.8 <span class="stars">★★★★★</span></td>
                            </tr>
                            <tr>
                                <td>Nutrición</td>
                                <td>380</td>
                                <td>28</td>
                                <td>7.4%</td>
                                <td>4.5 <span class="stars">★★★★★</span></td>
                            </tr>
                            <tr>
                                <td>Gimnasio</td>
                                <td>520</td>
                                <td>45</td>
                                <td>8.7%</td>
                                <td>4.3 <span class="stars">★★★★☆</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            
            <!-- Comentarios recientes -->
            <div class="comentarios-recientes">
                <div class="comentarios-header">
                    <h2>Comentarios Recientes</h2>
                    <div class="comentarios-acciones">
                        <button class="btn-ver-todos">Ver todos los comentarios</button>
                    </div>
                </div>
                
                <div class="comentarios-list">
                    <!-- Comentario 1 -->
                    <div class="comentario">
                        <div class="comentario-header">
                            <div class="usuario-info">
                                <div class="usuario-avatar">
                                    <i class="fas fa-user"></i>
                                </div>
                                <div class="usuario-datos">
                                    <h4>Laura Gómez</h4>
                                    <span class="servicio-comentado">Running</span>
                                </div>
                            </div>
                            <div class="comentario-rating">
                                <div class="estrellas">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                </div>
                                <div class="fecha">15 mayo, 2023</div>
                            </div>
                        </div>
                        <div class="comentario-texto">
                            <p>Excelente planificación y seguimiento. Las rutinas son desafiantes pero realistas y me han ayudado a mejorar mi rendimiento en carreras.</p>
                        </div>
                        <div class="comentario-respuesta">
                            <div class="respuesta-header">
                                <strong>Running</strong>
                                <span>Tu respuesta:</span>
                            </div>
                            <p>¡Gracias por tus palabras, Laura! Me alegra mucho que las rutinas te estén ayudando. Seguiremos ajustando el entrenamiento para que sigas mejorando tus tiempos.</p>
                        </div>
                    </div>
                    
                    <!-- Comentario 2 -->
                    <div class="comentario">
                        <div class="comentario-header">
                            <div class="usuario-info">
                                <div class="usuario-avatar">
                                    <i class="fas fa-user"></i>
                                </div>
                                <div class="usuario-datos">
                                    <h4>Carlos Sánchez</h4>
                                    <span class="servicio-comentado">Nutrición</span>
                                </div>
                            </div>
                            <div class="comentario-rating">
                                <div class="estrellas">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="far fa-star"></i>
                                </div>
                                <div class="fecha">2 de octubre, 2023</div>
                            </div>
                        </div>
                        <div class="comentario-texto">
                            <p>El plan nutricional ha sido muy efectivo para mi rendimiento deportivo. Me gustaría que hubiera más opciones para intolerantes a la lactosa.</p>
                        </div>
                        <div class="comentario-respuesta">
                            <div class="respuesta-header">
                                <strong>Nutrición</strong>
                                <span>Tu respuesta:</span>
                            </div>
                            <p>¡Gracias por tu comentario, Carlos! Estoy trabajando en ampliar las opciones para personas con intolerancias alimentarias. Te enviaré por correo una versión actualizada del plan con más alternativas sin lactosa.</p>
                        </div>
                    </div>
                    
                    <!-- Comentario 3 -->
                    <div class="comentario">
                        <div class="comentario-header">
                            <div class="usuario-info">
                                <div class="usuario-avatar">
                                    <i class="fas fa-user"></i>
                                </div>
                                <div class="usuario-datos">
                                    <h4>Laura Martínez</h4>
                                    <span class="servicio-comentado">Entrenamiento funcional</span>
                                </div>
                            </div>
                            <div class="comentario-rating">
                                <div class="estrellas">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="far fa-star"></i>
                                    <i class="far fa-star"></i>
                                    <i class="far fa-star"></i>
                                </div>
                                <div class="fecha">10 de octubre, 2023</div>
                            </div>
                        </div>
                        <div class="comentario-texto">
                            <p>La sesión fue demasiado intensa para mi nivel. Sentí que no se adaptó bien a mis necesidades como principiante. Además, el horario no fue respetado y empezamos 15 minutos tarde.</p>
                        </div>
                        <div class="comentario-respuesta">
                            <div class="respuesta-header">
                                <strong>Entrenamiento funcional</strong>
                                <span>Tu respuesta:</span>
                            </div>
                            <p>Lo siento mucho por la demora, Laura. Me aseguraré de que eso no vuelva a suceder. ¿Podrías decirme cuándo te gustaría que comencemos la sesión?</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Manejo de los botones de respuesta
            const botonesResponder = document.querySelectorAll('.btn-responder');
            
            botonesResponder.forEach(boton => {
                boton.addEventListener('click', function() {
                    const comentarioId = this.getAttribute('data-comentario-id');
                    const formRespuesta = document.getElementById(`respuesta-form-${comentarioId}`);
                    
                    // Mostrar el formulario de respuesta
                    if (formRespuesta.style.display === 'none') {
                        formRespuesta.style.display = 'block';
                        this.innerHTML = '<i class="fas fa-times"></i> Cancelar';
                    } else {
                        formRespuesta.style.display = 'none';
                        this.innerHTML = '<i class="fas fa-reply"></i> Responder';
                    }
                });
            });
            
            // Botones de cancelar respuesta
            document.querySelectorAll('.btn-cancelar').forEach(boton => {
                boton.addEventListener('click', function() {
                    const formRespuesta = this.closest('.form-respuesta');
                    const comentarioId = formRespuesta.id.split('-')[2];
                    const botonResponder = document.querySelector(`[data-comentario-id="${comentarioId}"]`);
                    
                    formRespuesta.style.display = 'none';
                    botonResponder.innerHTML = '<i class="fas fa-reply"></i> Responder';
                });
            });
            
            // Gráficos usando Chart.js
            
            // Gráfico de visualizaciones
            const ctxVisualizaciones = document.getElementById('grafico-visualizaciones').getContext('2d');
            const graficoVisualizaciones = new Chart(ctxVisualizaciones, {
                type: 'line',
                data: {
                    labels: ['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun', 'Jul', 'Ago', 'Sep', 'Oct', 'Nov', 'Dic'],
                    datasets: [
                        {
                            label: 'Entrenamiento para maratón',
                            data: [120, 145, 160, 185, 210, 230, 250, 240, 260, 290, 310, 325],
                            borderColor: '#4e73df',
                            backgroundColor: 'rgba(78, 115, 223, 0.1)',
                            borderWidth: 2,
                            tension: 0.3,
                            fill: true
                        },
                        {
                            label: 'Nutrición deportiva',
                            data: [80, 95, 100, 110, 130, 155, 170, 175, 190, 200, 220, 235],
                            borderColor: '#1cc88a',
                            backgroundColor: 'rgba(28, 200, 138, 0.1)',
                            borderWidth: 2,
                            tension: 0.3,
                            fill: true
                        },
                        {
                            label: 'Entrenamiento funcional',
                            data: [40, 35, 45, 50, 55, 60, 70, 65, 75, 80, 85, 95],
                            borderColor: '#f6c23e',
                            backgroundColor: 'rgba(246, 194, 62, 0.1)',
                            borderWidth: 2,
                            tension: 0.3,
                            fill: true
                        }
                    ]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'top',
                        },
                        tooltip: {
                            mode: 'index',
                            intersect: false,
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
            
            // Gráfico de distribución de calificaciones
            const ctxCalificaciones = document.getElementById('grafico-calificaciones').getContext('2d');
            const graficoCalificaciones = new Chart(ctxCalificaciones, {
                type: 'bar',
                data: {
                    labels: ['5★', '4★', '3★', '2★', '1★'],
                    datasets: [{
                        label: 'Cantidad de calificaciones',
                        data: [45, 22, 12, 5, 3],
                        backgroundColor: [
                            '#1cc88a',
                            '#4e73df',
                            '#f6c23e',
                            '#e74a3b',
                            '#e74a3b'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        x: {
                            beginAtZero: true
                        }
                    }
                }
            });
            
            // Gráfico de tasa de conversión
            const ctxConversion = document.getElementById('grafico-conversion').getContext('2d');
            const graficoConversion = new Chart(ctxConversion, {
                type: 'doughnut',
                data: {
                    labels: ['Entrenamiento para maratón', 'Nutrición deportiva', 'Entrenamiento funcional'],
                    datasets: [{
                        data: [6.3, 3.7, 4.3],
                        backgroundColor: [
                            '#4e73df',
                            '#1cc88a',
                            '#f6c23e'
                        ],
                        hoverOffset: 4
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'bottom'
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return context.label + ': ' + context.raw + '%';
                                }
                            }
                        }
                    }
                }
            });
        });
    </script>
</body>
</html> 
</html> 
</html> 